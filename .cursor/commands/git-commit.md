# Commit Staged Files

Staging된 파일들을 분석하여 Conventional Commits 형식의 커밋 메시지를 자동 생성하고, 로컬 git을 사용하여 확인 후 커밋합니다.

## 사용 방법

이 명령어는 staging된 파일들을 확인하고, 변경 내용을 분석하여 적절한 커밋 메시지를 생성한 후, 로컬 git 명령어를 통해 커밋합니다.

## 동작 방식

1. Staging된 파일 목록 확인
2. 변경 내용 분석 및 커밋 타입 결정
3. 커밋 메시지 생성 및 확인
4. 커밋 분할 제안 (필요시)
5. 커밋 실행

## 지시사항

다음 단계를 따라 staging된 파일들을 분석하고 로컬 git을 사용하여 커밋하세요:

1. **Staging된 파일 확인**

   - `git diff --cached --name-status` 명령어로 staging된 파일 목록을 확인합니다.
   - 파일이 없으면 사용자에게 알리고 종료합니다.

2. **커밋 타입 결정**

   - staging된 파일들을 분석하여 Conventional Commits 형식의 타입을 결정합니다:
     - `feat`: 새 기능 추가
     - `fix`: 버그 수정
     - `docs`: 문서 변경
     - `style`: 코드 스타일 변경 (CSS 등)
     - `refactor`: 리팩토링
     - `test`: 테스트 추가/수정
     - `chore`: 설정 파일 변경 (package.json, tsconfig.json 등)
   - 파일 확장자와 경로를 기반으로 타입을 결정합니다.
   - `git diff --cached`의 내용을 분석하여 키워드(fix, bug, feature, refactor 등)를 확인합니다.

3. **Scope 결정**

   - 변경된 파일들의 경로를 분석하여 scope를 결정합니다:
     - `app/` 디렉토리 → `app`
     - `components/` 디렉토리 → `components`
     - `api/` 디렉토리 → `api`
     - `public/` 디렉토리 → `public`

4. **Subject 생성**

   - 파일이 1개면 파일명을 사용합니다.
   - 파일이 여러 개면 "multiple files"를 사용합니다.

5. **커밋 메시지 생성 및 확인**

   - 생성된 커밋 메시지를 사용자에게 보여줍니다.
   - 형식: `{type}({scope}): {subject}` 또는 `{type}: {subject}`
   - 사용자에게 확인을 받습니다.
   - 필요시 커밋 메시지를 수정할 수 있도록 합니다.

6. **커밋 분할 제안**

   - 변경된 파일이 5개 이상이면 커밋을 나눌지 물어봅니다.

7. **로컬 git을 사용하여 커밋**

   - `run_terminal_cmd` 도구를 사용하여 `git commit -m "{생성된 커밋 메시지}"` 명령어를 실행합니다.
   - 생성된 커밋 메시지를 따옴표로 감싸서 전달합니다.

8. **결과 확인**
   - 커밋이 성공하면 사용자에게 알립니다.
   - 실패하면 오류 메시지를 표시합니다.

## 중요 사항

- **반드시 사용자 확인을 받은 후에만 커밋하세요.**
- 커밋 메시지를 사용자에게 보여주고 확인을 받아야 합니다.
- 파일이 많으면 커밋을 나눌지 물어봐야 합니다.
